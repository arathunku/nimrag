defmodule Nimrag.Api.Activity do
  use Nimrag.Api.Data
  defstruct ~w(distance duration begin_at start_local_at)a

  def schematic() do
    schema(__MODULE__, %{
      {"beginTimestamp", :begin_at} => timestamp_datetime(),
      {"startTimeLocal", :start_local_at} => naive_datetime(),
      distance: float(),
      duration: float()
    })
  end
end

# %{
#   "bmrCalories" => 220.0,
#   "strokes" => nil,
#   "leftBalance" => nil,
#   "curatedCourseId" => nil,
#   "maxBottomTime" => nil,
#   "sportTypeId" => 1,
#   "ownerProfileImageUrlMedium" => "",
#   "comments" => nil,
#   "excludeFromPowerCurveReports" => nil,
#   "diveNumber" => nil,
#   "aerobicTrainingEffectMessage" => "HIGHLY_IMPROVING_AEROBIC_ENDURANCE_10",
#   "hasVideo" => false,
#   "lactateThresholdSpeed" => nil,
#   "maxAvgPower_600" => nil,
#   "autoCalcCalories" => false,
#   "floorsDescended" => nil,
#   "flow" => nil,
#   "avgStrokes" => nil,
#   "avgGroundContactBalance" => nil,
#   "eventType" => %{
#     "sortOrder" => 10,
#     "typeId" => 9,
#     "typeKey" => "uncategorized"
#   },
#   "unitOfPoolLength" => nil,
#   "maxAvgPower_120" => nil,
#   "averageHR" => 144.0,
#   "maxAvgPower_18000" => nil,
#   "differenceBodyBattery" => -34,
#   "parent" => false,
#   "courseId" => nil,
#   "avgGradeAdjustedSpeed" => 3.053999900817871,
#   "maxStrokeCadence" => nil,
#   "trainingStressScore" => nil,
#   "hasSplits" => true,
#   "maxAirSpeed" => nil,
#   "maxVerticalSpeed" => 0.600006103515625,
#   "hasSeedFirstbeatProfile" => nil,
#   "maxAvgPower_60" => nil,
#   "ownerDisplayName" => "arathunku",
#   "startLongitude" => 9.304167,
#   "averageBikingCadenceInRevPerMinute" => nil,
#   "summarizedDiveInfo" => %{
#     "current" => nil,
#     "summarizedDiveGases" => [],
#     "surfaceCondition" => nil,
#     "totalSurfaceTime" => nil,
#     "visibility" => nil,
#     "visibilityUnit" => nil,
#     "waterDensity" => nil,
#     "waterType" => nil,
#     "weight" => nil,
#     "weightUnit" => nil
#   },
#   "activityLikeFullNames" => nil,
#   "calendarEventUuid" => nil,
#   "ownerProfileImageUrlSmall" => "https://s3.amazonaws.com/garmin-connect-prod/profile_images/a00bba80-22f1-4342-923d-cb9ea33662d3-prth.png",
#   "avgStress" => nil,
#   "locationName" => "",
#   "duration" => 9116.44921875,
#   "privacy" => %{"typeId" => 3, "typeKey" => "subscribers"},
#   "endCns" => nil,
#   "maxLapAvgRunCadence" => nil,
#   "maxBikingCadenceInRevPerMinute" => nil,
#   "maxAvgPower_30" => nil,
#   "avgStrokeCadence" => nil,
#   "maxPower" => 512.0,
#   "maxAvgPower_3600" => nil,
#   "endN2" => nil,
#   "activityTrainingLoad" => 195.479736328125,
#   "elevationLoss" => 785.0,
#   "avgWindYawAngle" => nil,
#   "anaerobicTrainingEffectMessage" => "NO_ANAEROBIC_BENEFIT_0",
#   "activeSets" => nil,
#   "averageSpeed" => 2.8529999256134033,
#   "maxDepth" => nil,
#   "manualActivity" => false,
#   "numberOfActivityComments" => nil,
#   "matchedCuratedCourseId" => nil,
#   "vigorousIntensityMinutes" => 151,
#   "steps" => 25716,
#   "max20MinPower" => nil,
#   "movingDuration" => 9109.094985961914,
#   "avgRespirationRate" => nil,
#   "avgVerticalOscillation" => 8.55,
#   "hasImages" => false,
#   "userPro" => false,
#   "maxAvgPower_10" => nil,
#   "avgPower" => 340.0,
#   "minAirSpeed" => nil,
#   "vO2MaxValue" => 54.0,
#   "jumpCount" => nil,
#   "avgWheelchairCadence" => nil,
#   "totalSets" => nil,
#   "anaerobicTrainingEffect" => 0.0,
#   "maxAvgPower_1" => nil,
#   "maxAvgPower_1800" => nil,
#   "ownerProfileImageUrlLarge" => "",
#   "minActivityLapDuration" => 1.7410000562667847,
#   "maxDoubleCadence" => 190.0,
#   "maxAvgPower_7200" => nil,
#   "calories" => 1926.0,
#   "minTemperature" => nil,
#   "maxFtp" => nil,
#   "activityLikeAuthors" => nil,
#   "startLatitude" => 50.26441,
#   "groupRideUUID" => nil,
#   "startTimeLocal" => "2024-03-31 13:09:11",
#   "hasPolyline" => true,
#   "averageSwimCadenceInStrokesPerMinute" => nil,
#   "lactateThresholdBpm" => nil,
#   "maxWheelchairCadence" => nil,
#   "beginTimestamp" => 1711883351000,
#   "avgFractionalCadence" => nil,
#   "avgGroundContactTime" => 265.1000061035156,
#   "maxAvgPower_1200" => nil,
#   "startN2" => nil,
#   "purposeful" => false,
#   "maxHR" => 164.0,
#   "maxFractionalCadence" => nil,
#   "activityLikeProfileImageUrls" => nil,
#   "surfaceInterval" => nil,
#   "avgDepth" => nil,
#   "maxRunningCadenceInStepsPerMinute" => 190.0,
#   "timeZoneId" => 124,
#   "startTimeGMT" => "2024-03-31 11:09:11",
#   "videoUrl" => nil,
#   "conversationUuid" => nil,
#   "avgVerticalSpeed" => nil,
#   "avgStrokeDistance" => nil,
#   "ownerFullName" => "arathunku",
#   "avgCda" => nil,
#   "maxSwimCadenceInStrokesPerMinute" => nil,
#   "gameName" => nil,
#   "favorite" => false,
#   "maxCda" => nil,
#   "maxJumpRopeCadence" => nil,
#   "gameType" => nil,
#   "averageSwolf" => nil,
#   "deviceId" => 3442024736,
#   "avgLeftBalance" => nil,
#   "userRoles" => [],
#   "waterConsumed" => nil,
#   "distance" => 26005.369140625,
#   "activityName" => "WÃ¤chtersbach Trail Running",
#   "endLatitude" => 50.26435629464686,
#   "workoutId" => nil,
#   "averageRunningCadenceInStepsPerMinute" => 169.546875,
#   "maxSpeed" => 4.440999984741211,
#   "splitSummaries" => [
#     %{
#       "averageElevationGain" => 789.0,
#       "averageSpeed" => 2.8529999256134033,
#       "avgStress" => nil,
#       "avgStressDraw" => nil,
#       "avgStressLoss" => nil,
#       "avgStressWin" => nil,
#       "distance" => 26005.44921875,
#       "duration" => 9116.44921875,
#       "elevationLoss" => 785.0,
#       "gamesAverageWon" => nil,
#       "gamesNotWon" => nil,
#       "gamesWon" => nil,
#       "maxDistance" => 26005,
#       "maxElevationGain" => 789.0,
#       "maxGradeValue" => nil,
#       "maxSpeed" => 4.440999984741211,
#       "mode" => nil,
#       "noOfSplits" => 1,
#       "numClimbSends" => 0,
#       "numFalls" => 0,
#       "splitType" => "INTERVAL_ACTIVE",
#       "totalAscent" => 789.0
#     },
#     %{
#       "averageElevationGain" => 395.0,
#       "averageSpeed" => 2.8540000915527344,
#       "avgStress" => nil,
#       "avgStressDraw" => nil,
#       "avgStressLoss" => nil,
#       "avgStressWin" => nil,
#       "distance" => 25978.150390625,
#       "duration" => 9101.8291015625,
#       "elevationLoss" => 785.0,
#       "gamesAverageWon" => nil,
#       "gamesNotWon" => nil,
#       "gamesWon" => nil,
#       "maxDistance" => 18478,
#       "maxElevationGain" => 423.0,
#       "maxGradeValue" => nil,
#       "maxSpeed" => 4.440999984741211,
#       "mode" => nil,
#       "noOfSplits" => 2,
#       "numClimbSends" => 0,
#       "numFalls" => 0,
#       "splitType" => "RWD_RUN",
#       "totalAscent" => 789.0
#     },
#     %{
#       "averageElevationGain" => 0.0,
#       "averageSpeed" => 0.9620000123977661,
#       "avgStress" => nil,
#       "avgStressDraw" => nil,
#       "avgStressLoss" => nil,
#       "avgStressWin" => nil,
#       "distance" => 12.5,
#       "duration" => 13.0,
#       "elevationLoss" => 0.0,
#       "gamesAverageWon" => nil,
#       "gamesNotWon" => nil,
#       "gamesWon" => nil,
#       "maxDistance" => 8,
#       "maxElevationGain" => 0.0,
#       "maxGradeValue" => nil,
#       "maxSpeed" => 2.071000099182129,
#       "mode" => nil,
#       "noOfSplits" => 2,
#       "numClimbSends" => 0,
#       "numFalls" => 0,
#       "splitType" => "RWD_WALK",
#       "totalAscent" => 0.0
#     },
#     %{
#       "averageElevationGain" => 0.0,
#       "averageSpeed" => 1.7139999866485596,
#       "avgStress" => nil,
#       "avgStressDraw" => nil,
#       "avgStressLoss" => nil,
#       "avgStressWin" => nil,
#       "distance" => 14.739999771118164,
#       "duration" => 8.600000381469727,
#       "elevationLoss" => 0.0,
#       "gamesAverageWon" => nil,
#       "gamesNotWon" => nil,
#       "gamesWon" => nil,
#       "maxDistance" => 10,
#       "maxElevationGain" => 0.0,
#       "maxGradeValue" => nil,
#       "maxSpeed" => 1.6610000133514404,
#       "mode" => nil,
#       "noOfSplits" => 2,
#       "numClimbSends" => 0,
#       "numFalls" => 0,
#       "splitType" => "RWD_STAND",
#       "totalAscent" => 0.0
#     }
#   ],
#   "maxRespirationRate" => nil,
#   "avgGrit" => nil,
#   "manufacturer" => "GARMIN",
#   "minCda" => nil,
#   "normPower" => 348.0,
#   "avgVerticalRatio" => 8.829999923706055,
#   "elevationGain" => 789.0,
#   "caloriesConsumed" => nil,
#   "avgFlow" => nil,
#   "rightBalance" => nil,
#   "decoDive" => false,
#   "avgStrideLength" => 99.95,
#   "elevationCorrected" => false,
#   "endStress" => nil,
#   "endLongitude" => 9.306692043319345,
#   "maxElevation" => 417.3999938964844,
#   "minStrokes" => nil,
#   "parentId" => nil,
#   "description" => nil,
#   "maxStress" => nil,
#   "differenceStress" => nil,
#   "activeLengths" => nil,
#   "startCns" => nil,
#   "activityType" => %{
#     "isHidden" => false,
#     "parentTypeId" => 1,
#     "restricted" => false,
#     "trimmable" => true,
#     "typeId" => 6,
#     "typeKey" => "trail_running"
#   },
#   "maxAvgPower_2" => nil,
#   "numberOfActivityLikes" => nil,
#   "intensityFactor" => nil,
#   "requestorRelationship" => nil,
#   "trainingEffectLabel" => "AEROBIC_BASE",
#   "moderateIntensityMinutes" => 0,
#   "commentedByUser" => nil,
#   "likedByUser" => nil,
#   "avgWattsPerCda" => nil,
#   "elapsedDuration" => 9167.0126953125,
#   "maxAvgPower_300" => nil,
#   "summarizedExerciseSets" => nil,
#   "ownerId" => 3532005,
#   "maxAvgPower_20" => nil,
#   "caloriesEstimated" => nil,
#   "avgDoubleCadence" => nil,
#   "pr" => false,
#   "minElevation" => 158.39999389648438,
#   "maxTemperature" => nil,
#   "calendarEventId" => nil,
#   "avgAirSpeed" => nil,
#   "waterEstimated" => 2532.0,
#   "poolLength" => nil,
#   "minRespirationRate" => nil,
#   "totalReps" => nil,
#   "floorsClimbed" => nil,
#   "bottomTime" => nil,
#   "activityLikeDisplayNames" => nil,
#   "maxAvgPower_5" => nil,
#   "startStress" => nil,
#   "grit" => nil,
#   "activityId" => 14668241798,
#   "lapCount" => 27,
#   "avgJumpRopeCadence" => nil,
#   "conversationPk" => nil,
#   "atpActivity" => false,
#   "aerobicTrainingEffect" => 4.099999904632568
# }
